<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tulip Shop - Trang chủ</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header Topbar -->
    <div class="header-topbar">
        <div class="topbar-wrapper">
            <p>
                <a href="#">MIỄN PHÍ ĐỔI HÀNG 30 NGÀY</a>
            </p>
        </div>
    </div>

    <!-- Header Main -->
    <header id="site-header" class="header-main">
        <div class="header-main__height">
            <div class="header-mobile">
                <div class="container">
                    <div class="row header-row">
                        <div class="col-xs-4 col-sm-6 col-md-2 col-lg-2">
                            <div class="header-mobile__left">
                                <span class="hamburger-menu hidden-md hidden-lg" id="menu-toggle">
                                    <i class="fas fa-bars"></i>
                                </span>
                <a th:href="@{/}" class="logo-shop">
                    <span class="logo-text">TULIP SHOP</span>
                </a>
                            </div>
                        </div>
                        <div class="col-xs-4 col-sm-8 col-md-7 col-lg-8 hidden-xs hidden-sm position-menu">
                            <div class="header-desktop__nav">
                                <nav class="main-nav text-center">
                                    <ul class="clearfix">
                                        <li class="position-relative">
                                            <a th:href="@{/}" title="New in">New in</a>
                                        </li>
                                        <li class="has-mega">
                                            <a th:href="@{/products}" title="Sản phẩm">Sản phẩm</a>
                                            <div class="mega-item">
                                                <div class="container">
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 mega-child-container">
                                                            <div class="row">
                                                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                                                                    <span class="title">Sản phẩm</span>
                                                                    <ul class="mega-child">
                                                                        <li><a th:href="@{/products/ao-so-mi}">Áo sơ mi</a></li>
                                                                        <li><a th:href="@{/products/ao-kieu}">Áo kiểu</a></li>
                                                                        <li><a th:href="@{/products/ao-thun}">Áo thun</a></li>
                                                                        <li><a th:href="@{/products/dam}">Đầm</a></li>
                                                                        <li><a th:href="@{/products/vay}">Váy</a></li>
                                                                        <li><a th:href="@{/products/quan}">Quần</a></li>
                                                                    </ul>
                                                                </div>
                                                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                                                                    <span class="title">Trending</span>
                                                                    <ul class="mega-child">
                                                                        <li><a th:href="@{/trending}">Xu hướng mới</a></li>
                                                                        <li><a th:href="@{/sale}">Sale off</a></li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <a th:href="@{/about}" title="Về chúng tôi">Về chúng tôi</a>
                                        </li>
                                        <li>
                                            <a th:href="@{/contact}" title="Liên hệ">Liên hệ</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                        <div class="col-xs-4 col-sm-6 col-md-3 col-lg-2">
                            <div class="header-mobile__right">
                                <ul class="header-actions">
                                    <li>
                                        <a th:href="@{/search}" class="header-search-icon">
                                            <i class="fas fa-search"></i>
                                        </a>
                                    </li>
                                    <li class="user-menu-item">
                                        <!-- Hiển thị khi đã đăng nhập -->
                                        <div sec:authorize="isAuthenticated()" class="user-dropdown">
                                            <a href="#" class="header-account-icon" id="user-menu-toggle">
                                                <i class="fas fa-user"></i>
                                                <span class="user-name" sec:authentication="name"></span>
                                            </a>
                                            <div class="user-dropdown-menu" id="user-dropdown-menu">
                                                <a th:href="@{/account}" class="dropdown-item">
                                                    <i class="fas fa-user-circle"></i> Tài khoản
                                                </a>
                                                <a th:href="@{/logout}" class="dropdown-item logout-item">
                                                    <i class="fas fa-sign-out-alt"></i> Đăng xuất
                                                </a>
                                            </div>
                                        </div>
                                        <!-- Hiển thị khi chưa đăng nhập -->
                                        <a sec:authorize="!isAuthenticated()" th:href="@{/login}" class="header-account-icon">
                                            <i class="fas fa-user"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a th:href="@{/cart}" class="header-cart-icon">
                                            <i class="fas fa-shopping-bag"></i>
                                            <span class="cart-count">0</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="site-menu menu-mobile" id="mobile-menu">
        <div class="site-menu__container">
            <span class="close-menumb" id="close-menu">
                <i class="fas fa-times"></i>
            </span>
            <div class="site-menu__box">
                <ul class="site-menu__list">
                    <li class="nav-item">
                        <a th:href="@{/}">Trang chủ</a>
                    </li>
                    <li class="nav-item nav-child">
                        <a th:href="@{/products}">Sản phẩm <i class="fas fa-chevron-down"></i></a>
                        <ul class="submenu-mb submb-lv2">
                            <li class="nav-item"><a th:href="@{/products/ao-so-mi}">Áo sơ mi</a></li>
                            <li class="nav-item"><a th:href="@{/products/ao-kieu}">Áo kiểu</a></li>
                            <li class="nav-item"><a th:href="@{/products/ao-thun}">Áo thun</a></li>
                            <li class="nav-item"><a th:href="@{/products/dam}">Đầm</a></li>
                            <li class="nav-item"><a th:href="@{/products/vay}">Váy</a></li>
                            <li class="nav-item"><a th:href="@{/products/quan}">Quần</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a th:href="@{/about}">Về chúng tôi</a>
                    </li>
                    <li class="nav-item">
                        <a th:href="@{/contact}">Liên hệ</a>
                    </li>
                    <!-- User menu trong mobile -->
                    <li class="nav-item" sec:authorize="isAuthenticated()">
                        <a th:href="@{/account}">
                            <i class="fas fa-user-circle"></i> Tài khoản
                        </a>
                    </li>
                    <li class="nav-item" sec:authorize="isAuthenticated()">
                        <a th:href="@{/logout}">
                            <i class="fas fa-sign-out-alt"></i> Đăng xuất
                        </a>
                    </li>
                    <li class="nav-item" sec:authorize="!isAuthenticated()">
                        <a th:href="@{/login}">
                            <i class="fas fa-sign-in-alt"></i> Đăng nhập
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Slider -->
        <section class="hero-slider">
            <div class="slider-container">
                <div class="slider-item active">
                    <div class="slider-content">
                        <h1 class="slider-title">BRIGHTEN YOUR DAY</h1>
                        <p class="slider-subtitle">Khám phá bộ sưu tập mới nhất</p>
                        <a th:href="@{/products}" class="btn btn-primary">Mua ngay</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Category Section -->
        <section class="category-section">
            <div class="container">
                <h2 class="section-title">Danh mục sản phẩm</h2>
                <div class="category-grid">
                    <div class="category-item">
                        <div class="category-item__image">
                            <a th:href="@{/products/ao-so-mi}" class="category-link">
                                <div class="category-placeholder">
                                    <i class="fas fa-tshirt"></i>
                                </div>
                            </a>
                        </div>
                        <div class="category-item__name">
                            <a th:href="@{/products/ao-so-mi}">Áo sơ mi</a>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-item__image">
                            <a th:href="@{/products/ao-kieu}" class="category-link">
                                <div class="category-placeholder">
                                    <i class="fas fa-tshirt"></i>
                                </div>
                            </a>
                        </div>
                        <div class="category-item__name">
                            <a th:href="@{/products/ao-kieu}">Áo kiểu</a>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-item__image">
                            <a th:href="@{/products/dam}" class="category-link">
                                <div class="category-placeholder">
                                    <i class="fas fa-tshirt"></i>
                                </div>
                            </a>
                        </div>
                        <div class="category-item__name">
                            <a th:href="@{/products/dam}">Đầm</a>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-item__image">
                            <a th:href="@{/products/vay}" class="category-link">
                                <div class="category-placeholder">
                                    <i class="fas fa-tshirt"></i>
                                </div>
                            </a>
                        </div>
                        <div class="category-item__name">
                            <a th:href="@{/products/vay}">Váy</a>
                        </div>
                    </div>
                    <div class="category-item">
                        <div class="category-item__image">
                            <a th:href="@{/products/quan}" class="category-link">
                                <div class="category-placeholder">
                                    <i class="fas fa-tshirt"></i>
                                </div>
                            </a>
                        </div>
                        <div class="category-item__name">
                            <a th:href="@{/products/quan}">Quần</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Products Section -->
        <section class="featured-section">
            <div class="container">
                <h2 class="section-title">Sản phẩm nổi bật</h2>
                <div class="products-grid">
                    <div class="product-card">
                        <div class="product-image">
                            <div class="product-placeholder">
                                <i class="fas fa-image"></i>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">Sản phẩm mẫu 1</h3>
                            <p class="product-price">500.000₫</p>
                            <button class="btn btn-secondary">Thêm vào giỏ</button>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <div class="product-placeholder">
                                <i class="fas fa-image"></i>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">Sản phẩm mẫu 2</h3>
                            <p class="product-price">600.000₫</p>
                            <button class="btn btn-secondary">Thêm vào giỏ</button>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <div class="product-placeholder">
                                <i class="fas fa-image"></i>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">Sản phẩm mẫu 3</h3>
                            <p class="product-price">700.000₫</p>
                            <button class="btn btn-secondary">Thêm vào giỏ</button>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <div class="product-placeholder">
                                <i class="fas fa-image"></i>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">Sản phẩm mẫu 4</h3>
                            <p class="product-price">800.000₫</p>
                            <button class="btn btn-secondary">Thêm vào giỏ</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <h3 class="footer-title">Về Tulip Shop</h3>
                    <p>Chúng tôi mang đến những sản phẩm thời trang chất lượng cao với giá cả hợp lý.</p>
                </div>
                <div class="col-md-4 col-sm-6">
                    <h3 class="footer-title">Liên kết nhanh</h3>
                    <ul class="footer-links">
                        <li><a th:href="@{/about}">Về chúng tôi</a></li>
                        <li><a th:href="@{/contact}">Liên hệ</a></li>
                        <li><a th:href="@{/policy}">Chính sách</a></li>
                        <li><a th:href="@{/terms}">Điều khoản</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-sm-6">
                    <h3 class="footer-title">Kết nối với chúng tôi</h3>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Tulip Shop. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        document.getElementById('menu-toggle')?.addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.add('active');
        });
        
        document.getElementById('close-menu')?.addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.remove('active');
        });

        // User dropdown menu toggle
        const userMenuToggle = document.getElementById('user-menu-toggle');
        const userDropdownMenu = document.getElementById('user-dropdown-menu');
        
        if (userMenuToggle && userDropdownMenu) {
            userMenuToggle.addEventListener('click', function(e) {
                e.preventDefault();
                userDropdownMenu.classList.toggle('active');
            });

            // Đóng dropdown khi click bên ngoài
            document.addEventListener('click', function(e) {
                if (!userMenuToggle.contains(e.target) && !userDropdownMenu.contains(e.target)) {
                    userDropdownMenu.classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>
