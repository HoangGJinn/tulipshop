<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<!-- Hero Slider Fragment for Homepage -->
<section th:fragment="hero-slider" class="hero-slider">
    <div class="slider-container">
        <!-- Slide 1 -->
        <div class="slider-item active" style="background-image: url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1920&q=80');">
            <div class="slider-overlay"></div>
            <div class="slider-content">
                <h1 class="slider-title">BRIGHTEN YOUR DAY</h1>
                <p class="slider-subtitle">Khám phá bộ sưu tập mới nhất</p>
                <a th:href="@{/products}" class="btn btn-primary">Mua ngay</a>
            </div>
        </div>
        <!-- Slide 2 (Optional - có thể thêm nhiều slide) -->
        <div class="slider-item" style="background-image: url('https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=1920&q=80');">
            <div class="slider-overlay"></div>
            <div class="slider-content">
                <h1 class="slider-title">NEW COLLECTION</h1>
                <p class="slider-subtitle">Xu hướng thời trang mới nhất</p>
                <a th:href="@{/products}" class="btn btn-primary">Khám phá ngay</a>
            </div>
        </div>
        <!-- Slide 3 (Optional) -->
        <div class="slider-item" style="background-image: url('https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=1920&q=80');">
            <div class="slider-overlay"></div>
            <div class="slider-content">
                <h1 class="slider-title">SALE UP TO 50%</h1>
                <p class="slider-subtitle">Ưu đãi đặc biệt trong tháng</p>
                <a th:href="@{/products}" class="btn btn-primary">Mua ngay</a>
            </div>
        </div>
    </div>
    <!-- Slider Navigation Dots -->
    <div class="slider-dots">
        <span class="dot active" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
    </div>
    <!-- Slider Navigation Arrows -->
    <a class="slider-prev" onclick="changeSlide(-1)">&#10094;</a>
    <a class="slider-next" onclick="changeSlide(1)">&#10095;</a>
</section>

<!-- Collection Banner Fragment for Products Page -->
<div th:fragment="collection-banner" class="banner-collection-header text-center">
    <a href="#">
        <img src="https://cdn.hstatic.net/themes/1000197303/1001389401/14/collection_banner.jpg?v=663" 
             alt="Banner" 
             class="img-fluid w-100" 
             style="object-fit: cover; max-height: 300px;">
    </a>
</div>

<!-- Category Section Fragment -->
<div th:fragment="category-section">
    <section class="category-section" th:if="${categoryStyle == null || categoryStyle == 'grid'}">
        <div class="container">
            <h2 class="section-title" th:if="${categoryTitle != null}" th:text="${categoryTitle}">Danh mục sản phẩm</h2>
            <div class="category-grid" th:if="${categories != null && !categories.isEmpty()}">
                <!-- Grid Category Style (for Homepage) -->
                <div class="category-item" th:each="cat : ${categories}">
                    <div class="category-item__image">
                        <a th:href="@{/products(category=${cat.slug})}" class="category-link">
                            <div class="category-placeholder">
                                <i class="fas fa-tshirt"></i>
                            </div>
                        </a>
                    </div>
                    <div class="category-item__name">
                        <a th:href="@{/products(category=${cat.slug})}" th:text="${cat.name}"></a>
                    </div>
                </div>
            </div>
            <!-- Fallback khi không có categories -->
            <div class="category-grid" th:if="${categories == null || categories.isEmpty()}">
                <div class="category-item">
                    <div class="category-item__image">
                        <a th:href="@{/products}" class="category-link">
                            <div class="category-placeholder">
                                <i class="fas fa-tshirt"></i>
                            </div>
                        </a>
                    </div>
                    <div class="category-item__name">
                        <a th:href="@{/products}">Tất cả sản phẩm</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Horizontal Category Style (for Products Page) -->
    <div class="home-category__list d-flex justify-content-center gap-4 overflow-auto pb-3" 
         th:if="${categoryStyle == 'horizontal'}">
        <div class="category-item text-center" 
             th:each="cat : ${categories}" 
             th:classappend="${selectedCategory != null && selectedCategory == cat.slug} ? 'active'">
            <div class="category-item__image rounded-circle border mb-2 d-flex align-items-center justify-content-center" 
                 style="width: 80px; height: 80px; padding: 3px; background-color: #f8f9fa;">
                <a th:href="@{/products(category=${cat.slug})}" class="w-100 h-100 d-flex align-items-center justify-content-center text-decoration-none">
                    <i class="fas fa-tshirt text-dark" style="font-size: 2rem;"></i>
                </a>
            </div>
            <div class="category-item__name small fw-bold text-uppercase">
                <a th:href="@{/products(category=${cat.slug})}" 
                   class="text-dark text-decoration-none" 
                   th:text="${cat.name}"></a>
            </div>
        </div>
        <!-- All Categories Option -->
        <div class="category-item text-center" 
             th:classappend="${selectedCategory == null} ? 'active'">
            <div class="category-item__image rounded-circle border mb-2" 
                 style="width: 80px; height: 80px; padding: 3px;">
                <a th:href="@{/products}">
                    <img src="https://cdn.hstatic.net/themes/1000197303/1001389401/14/category2-img.png?v=663" 
                         class="rounded-circle w-100 h-100 object-fit-cover" 
                         alt="Tất cả">
                </a>
            </div>
            <div class="category-item__name small fw-bold text-uppercase">
                <a th:href="@{/products}" class="text-dark text-decoration-none">Tất cả</a>
            </div>
        </div>
    </div>
</div>

</body>
</html>

