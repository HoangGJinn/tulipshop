<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: head(title='Tất cả sản phẩm')}">
</head>
<body style="background-color: #F3F4F6;">
<div th:replace="~{fragments/header :: header}"></div>
<link rel="stylesheet" th:href="@{/css/products.css}">

<!-- Breadcrumb (Above Banner) -->
<div class="container mt-3 mb-2">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a href="/" class="text-decoration-none text-dark small">TRANG CHỦ</a></li>
            <li class="breadcrumb-item active small fw-bold" aria-current="page">ÁO</li>
        </ol>
    </nav>
</div>

<!-- Banner Section (In Container) -->
<div class="container mb-5">
    <div class="position-relative rounded-3 overflow-hidden shadow-sm" style="min-height: 350px;">

        <img src="https://cdn.hstatic.net/themes/1000197303/1001389401/14/img-home-collection1.jpg?v=848"
             alt="Banner"
             class="position-absolute top-0 start-0 w-100 h-100"
             style="object-fit: cover; z-index: 1; object-position: center;">

        <div class="position-absolute top-0 start-0 w-100 h-100"
             style="background: rgba(0,0,0,0.05); z-index: 2;"></div>

        <div class="container h-100 position-relative" style="z-index: 3;">
            <div class="row align-items-center h-100" style="min-height: 350px;">
                <div class="col-md-6">
                    <div class="bg-white bg-opacity-90 p-4 p-md-5 rounded-3 shadow mx-3"
                         style="max-width: 450px; border: 1px solid rgba(255,255,255,0.3);">
                        <h1 class="fw-bold mb-3" style="font-size: 2rem; color: #1a1a1a;">Áo</h1>
                        <p class="text-muted mb-0" style="font-size: 0.95rem; line-height: 1.7;">
                            Áo Tuplip đẹp, kiểu dáng thanh lịch cùng chất liệu cao cấp sẽ giúp bạn xây dựng phong cách lịch lãm, thu hút mọi ánh nhìn.
                        </p>
                        <button class="btn btn-dark mt-4 px-4 py-2 rounded-pill text-uppercase fw-bold" style="font-size: 0.8rem;">
                            Khám phá ngay
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Category Menu -->
<div class="container mb-4">
    <div class="d-flex gap-2 flex-wrap">
        <button class="btn btn-sm btn-outline-dark rounded-pill px-3 py-2">HÀNG MỚI VỀ</button>
        <button class="btn btn-sm btn-outline-dark rounded-pill px-3 py-2">GIÁ TỐT</button>
        <button class="btn btn-sm btn-dark rounded-pill px-3 py-2">ÁO</button>
        <button class="btn btn-sm btn-outline-dark rounded-pill px-3 py-2">QUẦN</button>
        <button class="btn btn-sm btn-outline-dark rounded-pill px-3 py-2">PHỤ KIỆN</button>
        <button class="btn btn-sm btn-outline-dark rounded-pill px-3 py-2">SẢN PHẨM BÁN CHẠY</button>
    </div>
</div>

<!-- Main Content: 2 Panels -->
<div class="container mb-5">
    <div class="row g-4">
        
        <!-- LEFT PANEL: Sidebar Filter -->
        <div class="col-lg-3">
            <div class="bg-white rounded-3 shadow-sm p-4 sticky-top" style="top: 80px; z-index: 100;">
                <form action="/products" method="get" id="filterForm">
                    
                    <!-- Filter Header -->
                    <h6 class="fw-bold mb-3 text-uppercase" style="font-size: 0.85rem; letter-spacing: 0.5px;">Bộ lọc</h6>

                    <!-- Selected Filters Display -->
                    <div id="selectedFilters" class="mb-3 pb-3 border-bottom" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <small class="fw-bold text-uppercase" style="font-size: 0.75rem;">Đã chọn</small>
                            <button type="button" class="btn btn-link btn-sm text-decoration-none p-0 text-danger" onclick="clearAllFilters()">Xóa tất cả</button>
                        </div>
                        <div id="selectedTags" class="d-flex flex-wrap gap-1"></div>
                    </div>

                    <!-- Kiểu cổ áo (Collapsed) -->
                    <div class="filter-section mb-3 pb-3 border-bottom">
                        <button type="button" class="btn btn-link text-dark text-decoration-none p-0 w-100 text-start d-flex justify-content-between align-items-center fw-semibold" 
                                onclick="toggleFilterSection(this)">
                            <span style="font-size: 0.85rem;">Kiểu cổ áo</span>
                            <i class="fas fa-chevron-down" style="font-size: 0.75rem; color: #6B7280;"></i>
                        </button>
                        <div class="filter-content mt-2" style="display: none;">
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="collarType" value="Cổ tròn" id="collar1">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="collar1">Cổ tròn</label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="collarType" value="Cổ sơ mi" id="collar2">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="collar2">Cổ sơ mi</label>
                            </div>
                        </div>
                    </div>

                    <!-- Màu sắc (Expanded) -->
                    <div class="filter-section mb-3 pb-3 border-bottom">
                        <button type="button" class="btn btn-link text-dark text-decoration-none p-0 w-100 text-start d-flex justify-content-between align-items-center fw-semibold" 
                                onclick="toggleFilterSection(this)">
                            <span style="font-size: 0.85rem;">Màu sắc</span>
                            <i class="fas fa-chevron-up" style="font-size: 0.75rem; color: #6B7280;"></i>
                        </button>
                        <div class="filter-content mt-3">
                            <div class="row g-2">
                                <div class="col-3" th:each="color : ${ {'Trắng:#FFFFFF', 'Be:#F5F5DC', 'Xám:#808080', 'Nâu:#8B4513', 'Tím:#8A2BE2', 'Xanh dương:#1E90FF', 'Xanh lá:#228B22', 'Xanh ngọc:#40E0D0', 'Đen:#000000', 'Navy:#000080', 'BUD:#87CEEB', 'Xanh đậm:#00008B'} }">
                                    <label class="color-filter-item text-center d-block" style="cursor: pointer;">
                                        <input type="checkbox" name="color" th:value="${#strings.substringBefore(color, ':')}" class="d-none color-checkbox">
                                        <div class="color-swatch rounded-circle border mx-auto" 
                                             th:style="'width: 30px; height: 30px; background-color: ' + ${#strings.substringAfter(color, ':')} + '; border: 2px solid #E5E7EB;'"
                                             th:attr="data-color=${#strings.substringBefore(color, ':')}"></div>
                                        <small class="d-block text-muted mt-1" style="font-size: 9px; line-height: 1.2;" th:text="${#strings.abbreviate(#strings.substringBefore(color, ':'), 6)}">Trắng</small>
                                    </label>
                                </div>
                            </div>
                            <button type="button" class="btn btn-link btn-sm text-decoration-none p-0 mt-2 text-muted">
                                <small>Show (27) more</small>
                            </button>
                        </div>
                    </div>

                    <!-- Chất liệu (Collapsed) -->
                    <div class="filter-section mb-3 pb-3 border-bottom">
                        <button type="button" class="btn btn-link text-dark text-decoration-none p-0 w-100 text-start d-flex justify-content-between align-items-center fw-semibold" 
                                onclick="toggleFilterSection(this)">
                            <span style="font-size: 0.85rem;">Chất liệu</span>
                            <i class="fas fa-chevron-down" style="font-size: 0.75rem; color: #6B7280;"></i>
                        </button>
                        <div class="filter-content mt-2" style="display: none;">
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="material" value="Cotton" id="mat1">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="mat1">Cotton</label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="material" value="Polyester" id="mat2">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="mat2">Polyester</label>
                            </div>
                        </div>
                    </div>

                    <!-- Form dáng (Collapsed) -->
                    <div class="filter-section mb-3 pb-3 border-bottom">
                        <button type="button" class="btn btn-link text-dark text-decoration-none p-0 w-100 text-start d-flex justify-content-between align-items-center fw-semibold" 
                                onclick="toggleFilterSection(this)">
                            <span style="font-size: 0.85rem;">Form dáng</span>
                            <i class="fas fa-chevron-down" style="font-size: 0.75rem; color: #6B7280;"></i>
                        </button>
                        <div class="filter-content mt-2" style="display: none;">
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="fit" value="Slim fit" id="fit1">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="fit1">Slim fit</label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="fit" value="Regular fit" id="fit2">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="fit2">Regular fit</label>
                            </div>
                        </div>
                    </div>

                    <!-- Kích cỡ (Expanded) -->
                    <div class="filter-section mb-3 pb-3 border-bottom">
                        <button type="button" class="btn btn-link text-dark text-decoration-none p-0 w-100 text-start d-flex justify-content-between align-items-center fw-semibold" 
                                onclick="toggleFilterSection(this)">
                            <span style="font-size: 0.85rem;">Kích cỡ</span>
                            <i class="fas fa-chevron-up" style="font-size: 0.75rem; color: #6B7280;"></i>
                        </button>
                        <div class="filter-content mt-3">
                            <div class="row g-2">
                                <div class="col-4" th:each="size : ${ {'XS', 'S', 'M', 'L', 'XL', 'XXL', '38', '39', '40', '41', '42', '43'} }">
                                    <label class="size-filter-item w-100">
                                        <input type="checkbox" name="size" th:value="${size}" class="d-none size-checkbox">
                                        <div class="size-box border text-center py-1 rounded" 
                                             style="cursor: pointer; font-size: 0.8rem; transition: all 0.2s; border-color: #E5E7EB;"
                                             th:text="${size}"
                                             th:attr="data-size=${size}">S</div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Kiểu tay áo (Expanded) -->
                    <div class="filter-section mb-3 pb-3 border-bottom">
                        <button type="button" class="btn btn-link text-dark text-decoration-none p-0 w-100 text-start d-flex justify-content-between align-items-center fw-semibold" 
                                onclick="toggleFilterSection(this)">
                            <span style="font-size: 0.85rem;">Kiểu tay áo</span>
                            <i class="fas fa-chevron-up" style="font-size: 0.75rem; color: #6B7280;"></i>
                        </button>
                        <div class="filter-content mt-2">
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="sleeveType" value="Dài tay" id="sleeve1">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="sleeve1">Dài tay</label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="sleeveType" value="Ngắn tay" id="sleeve2">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="sleeve2">Ngắn tay</label>
                            </div>
                        </div>
                    </div>

                    <!-- Đánh giá (Collapsed) -->
                    <div class="filter-section mb-3 pb-3 border-bottom">
                        <button type="button" class="btn btn-link text-dark text-decoration-none p-0 w-100 text-start d-flex justify-content-between align-items-center fw-semibold" 
                                onclick="toggleFilterSection(this)">
                            <span style="font-size: 0.85rem;">Đánh giá</span>
                            <i class="fas fa-chevron-down" style="font-size: 0.75rem; color: #6B7280;"></i>
                        </button>
                        <div class="filter-content mt-2" style="display: none;">
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="rating" value="5" id="rate5">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="rate5">⭐⭐⭐⭐⭐</label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="rating" value="4" id="rate4">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="rate4">⭐⭐⭐⭐</label>
                            </div>
                        </div>
                    </div>

                    <!-- Giá (Collapsed) -->
                    <div class="filter-section mb-4">
                        <button type="button" class="btn btn-link text-dark text-decoration-none p-0 w-100 text-start d-flex justify-content-between align-items-center fw-semibold" 
                                onclick="toggleFilterSection(this)">
                            <span style="font-size: 0.85rem;">Giá</span>
                            <i class="fas fa-chevron-down" style="font-size: 0.75rem; color: #6B7280;"></i>
                        </button>
                        <div class="filter-content mt-2" style="display: none;">
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="priceRange" value="0-500000" id="price1">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="price1">Dưới 500,000₫</label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="priceRange" value="500000-1000000" id="price2">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="price2">500,000₫ - 1,000,000₫</label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="priceRange" value="1000000-max" id="price3">
                                <label class="form-check-label" style="font-size: 0.85rem;" for="price3">Trên 1,000,000₫</label>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-dark btn-sm py-2 fw-semibold">Áp dụng</button>
                        <a href="/products" class="btn btn-outline-secondary btn-sm py-2">Xóa bộ lọc</a>
                    </div>
                </form>
            </div>
        </div>


        <!-- RIGHT PANEL: Main Content -->
        <div class="col-lg-9">
            <div class="bg-white rounded-3 shadow-sm p-4">
                
                <!-- Toolbar -->
                <div class="d-flex justify-content-between align-items-center mb-4 pb-3 border-bottom">
                    <div>
                        <span class="text-muted" style="font-size: 0.9rem;" th:text="${products != null ? products.size() : 0} + ' sản phẩm'">443 sản phẩm</span>
                    </div>
                    <div class="d-flex align-items-center gap-3">
                        <div class="d-flex align-items-center gap-2">
                            <span class="small text-muted">Sắp xếp:</span>
                            <select class="form-select form-select-sm border-0 fw-semibold" style="width: auto; cursor: pointer;" onchange="location = this.value;">
                                <option value="?sort=newest" th:selected="${selectedSort == 'newest'}">Mới nhất</option>
                                <option value="?sort=price_asc" th:selected="${selectedSort == 'price_asc'}">Giá tăng dần</option>
                                <option value="?sort=price_desc" th:selected="${selectedSort == 'price_desc'}">Giá giảm dần</option>
                            </select>
                        </div>
                        <div class="d-flex gap-1">
                            <button class="btn btn-sm btn-outline-secondary d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;">
                                <i class="fas fa-th" style="font-size: 12px;"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-secondary d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;">
                                <i class="fas fa-list" style="font-size: 12px;"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Product Grid - GIỮ NGUYÊN CẤU TRÚC GỐC - 3 sản phẩm mỗi hàng -->
                <div class="row product-list">
                    <div class="col-lg-4 col-md-6 col-sm-6 pro-loop mb-4" th:each="prod : ${products}">
                        <div class="product-block product-resize h-100">
                            <div class="product-img position-relative">
                                <div class="product-sale-flag" th:if="${prod.discountPercent != null}">
                                    <span th:text="'-' + ${prod.discountPercent} + '%'">-10%</span>
                                </div>

                                <div class="product-wl position-absolute top-0 end-0 p-2" style="z-index: 5;">
                                    <span class="btn-add-wl" onclick="toggleWishlist(this)" style="cursor: pointer;" th:attr="data-product-id=${prod.id}">
                                        <i class="far fa-heart text-dark"></i>
                                    </span>
                                </div>

                                <a th:href="@{/product/{id}(id=${prod.id})}" class="image-resize ratiobox d-block position-relative" style="padding-top: 133%;">
                                    <img class="img-loop lazyload position-absolute top-0 start-0 w-100 h-100 object-fit-cover" th:src="${prod.thumbnail}" th:id="'img-' + ${prod.id}">
                                    <img th:if="${!prod.colorImages.isEmpty()}" th:src="${prod.colorImages[0]}" class="img-loop img-hover position-absolute top-0 start-0 w-100 h-100 object-fit-cover" style="opacity: 0; transition: opacity 0.3s;">
                                </a>
                            </div>

                            <div class="product-detail clearfix pt-3">
                                <div class="box-pro-detail text-end">

                                    <div class="pro-name mb-1">
                                        <a th:href="@{/product/{id}(id=${prod.id})}"
                                           class="text-decoration-none text-dark product-title-font"
                                           th:text="${prod.name}"
                                           th:title="${prod.name}">
                                            Tên sản phẩm
                                        </a>
                                    </div>

                                    <div class="box-pro-prices mb-2">
                                        <p class="pro-price highlight m-0">
                                            <span class="fw-bold text-danger price-font" th:text="${#numbers.formatDecimal(prod.price, 0, 'COMMA', 0, 'POINT') + '₫'}"></span>
                                            <span class="pro-price-del text-muted small ms-1" th:if="${prod.originalPrice != null}">
                                                <del class="compare-price" th:text="${#numbers.formatDecimal(prod.originalPrice, 0, 'COMMA', 0, 'POINT') + '₫'}"></del>
                                            </span>
                                        </p>
                                    </div>

                                    <div class="swatch-loop d-flex justify-content-end gap-2" th:if="${!prod.colorCodes.isEmpty()}">
                                        <div th:each="code, iter : ${prod.colorCodes}"
                                             class="swatch-element"
                                             th:data-img="${prod.colorImages[iter.index]}"
                                             th:data-target="'img-' + ${prod.id}"
                                             onmouseover="previewColor(this)">
                                            <span class="color-dot"
                                                  th:style="'background-color:' + ${code}">
                                            </span>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pagination -->
                <nav class="mt-4 pt-3 border-top">
                    <ul class="pagination justify-content-center mb-0">
                        <li class="page-item">
                            <a class="page-link border-0 text-dark" href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li class="page-item active"><a class="page-link bg-dark border-dark" href="#">1</a></li>
                        <li class="page-item"><a class="page-link border-0 text-dark" href="#">2</a></li>
                        <li class="page-item"><a class="page-link border-0 text-dark" href="#">3</a></li>
                        <li class="page-item"><a class="page-link border-0 text-dark" href="#">4</a></li>
                        <li class="page-item"><a class="page-link border-0 text-dark" href="#">5</a></li>
                        <li class="page-item">
                            <a class="page-link border-0 text-dark" href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>

            </div>
        </div>
    </div>
</div>

<div th:replace="~{fragments/footer :: footer}" class="mt-5"></div>


<!-- WebSocket Libraries -->
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
<script th:src="@{/js/notification.js}"></script>
<script th:src="@{/js/products.js}"></script>

<script>
// Giữ nguyên logic gốc
function previewColor(el) {
    let targetId = el.getAttribute('data-target');
    let newSrc = el.getAttribute('data-img');
    if(newSrc) document.getElementById(targetId).src = newSrc;
}

// Toggle Filter Sections (Accordion)
function toggleFilterSection(btn) {
    const content = btn.nextElementSibling;
    const icon = btn.querySelector('i');
    
    if (content.style.display === 'none' || content.style.display === '') {
        content.style.display = 'block';
        icon.classList.remove('fa-chevron-down');
        icon.classList.add('fa-chevron-up');
    } else {
        content.style.display = 'none';
        icon.classList.remove('fa-chevron-up');
        icon.classList.add('fa-chevron-down');
    }
}

// Color Selection with Visual Feedback
document.querySelectorAll('.color-checkbox').forEach(checkbox => {
    checkbox.addEventListener('change', function() {
        const swatch = this.nextElementSibling;
        if (this.checked) {
            swatch.style.borderColor = '#000';
            swatch.style.borderWidth = '3px';
            swatch.style.boxShadow = '0 0 0 1px #000';
        } else {
            swatch.style.borderColor = '#E5E7EB';
            swatch.style.borderWidth = '2px';
            swatch.style.boxShadow = 'none';
        }
        updateSelectedFilters();
    });
});

// Size Selection with Visual Feedback
document.querySelectorAll('.size-checkbox').forEach(checkbox => {
    checkbox.addEventListener('change', function() {
        const box = this.nextElementSibling;
        if (this.checked) {
            box.style.backgroundColor = '#000';
            box.style.color = '#fff';
            box.style.borderColor = '#000';
            box.style.fontWeight = '600';
        } else {
            box.style.backgroundColor = '#fff';
            box.style.color = '#000';
            box.style.borderColor = '#E5E7EB';
            box.style.fontWeight = '400';
        }
        updateSelectedFilters();
    });
});

// Click on visual elements to toggle
document.addEventListener('DOMContentLoaded', function() {
    // Color swatch click handler
    document.querySelectorAll('.color-swatch').forEach(swatch => {
        swatch.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            const label = this.closest('label');
            const checkbox = label.querySelector('input.color-checkbox');
            checkbox.checked = !checkbox.checked;
            checkbox.dispatchEvent(new Event('change'));
        });
    });

    // Size box click handler
    document.querySelectorAll('.size-box').forEach(box => {
        box.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            const label = this.closest('label');
            const checkbox = label.querySelector('input.size-checkbox');
            checkbox.checked = !checkbox.checked;
            checkbox.dispatchEvent(new Event('change'));
        });
    });
    
    // Initialize selected filters on load
    updateSelectedFilters();
});

// Update Selected Filters Display (Tags/Chips)
function updateSelectedFilters() {
    const selectedTags = document.getElementById('selectedTags');
    const selectedFiltersDiv = document.getElementById('selectedFilters');
    selectedTags.innerHTML = '';
    
    let hasSelection = false;
    
    // Get all checked inputs
    document.querySelectorAll('#filterForm input[type="checkbox"]:checked, #filterForm input[type="radio"]:checked').forEach(input => {
        hasSelection = true;
        const tag = document.createElement('span');
        tag.className = 'badge bg-dark text-white d-inline-flex align-items-center gap-1 px-2 py-1';
        tag.style.fontSize = '0.75rem';
        tag.style.fontWeight = '500';
        tag.innerHTML = `${input.value} <button type="button" class="btn-close btn-close-white" style="font-size: 0.6rem; padding: 0; width: 12px; height: 12px;" onclick="removeFilter(this, '${input.name}', '${input.value}')"></button>`;
        selectedTags.appendChild(tag);
    });
    
    selectedFiltersDiv.style.display = hasSelection ? 'block' : 'none';
}

function removeFilter(btn, name, value) {
    const input = document.querySelector(`input[name="${name}"][value="${value}"]`);
    if (input) {
        input.checked = false;
        input.dispatchEvent(new Event('change'));
    }
}

function clearAllFilters() {
    document.querySelectorAll('#filterForm input[type="checkbox"], #filterForm input[type="radio"]').forEach(input => {
        input.checked = false;
        input.dispatchEvent(new Event('change'));
    });
}
</script>

<style>
.rounded-3 {
    border-radius: 0.5rem !important;
}
.shadow-sm {
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
}
.color-swatch {
    transition: all 0.2s ease;
    cursor: pointer;
}
.color-swatch:hover {
    transform: scale(1.15);
}
.size-box {
    transition: all 0.2s ease;
    cursor: pointer;
}
.size-box:hover {
    border-color: #000 !important;
    background-color: #f8f9fa;
}
.fw-semibold {
    font-weight: 600 !important;
}
/* Ensure header stays above sticky sidebar */
header, .header, nav.navbar {
    z-index: 1000 !important;
}
</style>
</body>
</html>